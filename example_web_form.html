<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  </head>

  <body>
  
    <form action="#" method="post"> <!-- remove method="post" for local tests, if you experience any problems -->
      <button id="submitWithSha1">Submit</button>
      <input type="text" name="sha1Str" id="sha1Str" size="40" />
    </form>
    
    <script type="text/javascript">
      function sha1(r){function e(r){var e,o="";for(e=7;e>=0;e--)o+=(r>>>4*e&15).toString(16);return o}function o(r,e){return r<<e|r>>>32-e}var t,a,n,h,c,i,s,f,d,C=new Array(80),u=1732584193,g=4023233417,l=2562383102,k=271733878,A=3285377520,m=(r=function(r){r=r.replace(/\r\n/g,"\n");for(var e="",o=0;o<r.length;o++){var t=r.charCodeAt(o);t<128?e+=String.fromCharCode(t):t>127&&t<2048?(e+=String.fromCharCode(t>>6|192),e+=String.fromCharCode(63&t|128)):(e+=String.fromCharCode(t>>12|224),e+=String.fromCharCode(t>>6&63|128),e+=String.fromCharCode(63&t|128))}return e}(r)).length,p=new Array;for(a=0;a<m-3;a+=4)n=r.charCodeAt(a)<<24|r.charCodeAt(a+1)<<16|r.charCodeAt(a+2)<<8|r.charCodeAt(a+3),p.push(n);switch(m%4){case 0:a=2147483648;break;case 1:a=r.charCodeAt(m-1)<<24|8388608;break;case 2:a=r.charCodeAt(m-2)<<24|r.charCodeAt(m-1)<<16|32768;break;case 3:a=r.charCodeAt(m-3)<<24|r.charCodeAt(m-2)<<16|r.charCodeAt(m-1)<<8|128}for(p.push(a);p.length%16!=14;)p.push(0);for(p.push(m>>>29),p.push(m<<3&4294967295),t=0;t<p.length;t+=16){for(a=0;a<16;a++)C[a]=p[t+a];for(a=16;a<=79;a++)C[a]=o(C[a-3]^C[a-8]^C[a-14]^C[a-16],1);for(h=u,c=g,i=l,s=k,f=A,a=0;a<=19;a++)d=o(h,5)+(c&i|~c&s)+f+C[a]+1518500249&4294967295,f=s,s=i,i=o(c,30),c=h,h=d;for(a=20;a<=39;a++)d=o(h,5)+(c^i^s)+f+C[a]+1859775393&4294967295,f=s,s=i,i=o(c,30),c=h,h=d;for(a=40;a<=59;a++)d=o(h,5)+(c&i|c&s|i&s)+f+C[a]+2400959708&4294967295,f=s,s=i,i=o(c,30),c=h,h=d;for(a=60;a<=79;a++)d=o(h,5)+(c^i^s)+f+C[a]+3395469782&4294967295,f=s,s=i,i=o(c,30),c=h,h=d;u=u+h&4294967295,g=g+c&4294967295,l=l+i&4294967295,k=k+s&4294967295,A=A+f&4294967295}return(d=e(u)+e(g)+e(l)+e(k)+e(A)).toLowerCase()}function generateWord(){word="";for(var r=0;r<j;r++)word+=charset.charAt(Math.floor(Math.random()*charset.length));return word}function generateToken(){for(;tokenHash.substring(0,hexCriteria)!=hexMatch;)possibleToken=generateWord(),tokenHash=sha1(possibleToken);return possibleToken}var hexCriteria=1,charset="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",j=20,hexMatch="",tokenHash="1111111111111111111111111111111111111111";for(i=0;i<hexCriteria;i++)hexMatch+="0";var clientToken=generateToken();document.getElementById("submitWithSha1").onclick=function(){return document.getElementById("sha1Str").value=clientToken,!1};
    </script>
    
  </body>
</html>
